<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>By Majid — Fine Art Photography</title>
<meta name="description" content="By Majid — Fine Art Photography portfolio" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
<style>
:root { --bg:#0e0e10; --fg:#e9e9ec; --muted:#b6b6bd; --card:#151518; --shadow:0 10px 30px rgba(0,0,0,.35); --radius:18px; --gap:clamp(12px,2vw,20px); --maxw:1200px }
@media (prefers-color-scheme: light){ :root{ --bg:#fafafa; --fg:#151518; --muted:#6b6b74; --card:#fff; --shadow:0 10px 30px rgba(0,0,0,.08) }}
*{box-sizing:border-box}
html,body{height:100%}
body{ margin:0; background:var(--bg); color:var(--fg); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif; line-height:1.6 }
a{color:var(--fg); text-decoration:none}
a:hover{opacity:.9}
.wrap{max-width:var(--maxw); margin-inline:auto; padding:clamp(16px,4vw,32px)}
header{position:sticky; top:0; backdrop-filter:saturate(180%) blur(12px); background:color-mix(in oklab, var(--bg) 90%, transparent); z-index:20; border-bottom:1px solid color-mix(in oklab, var(--fg) 12%, transparent)}
.nav{display:flex; align-items:center; justify-content:space-between}
.brand{display:flex; align-items:baseline; gap:10px}
.brand h1{font-family:"Playfair Display",serif; font-weight:700; letter-spacing:.5px; margin:0; font-size:clamp(18px,2.4vw,26px)}
.brand small{color:var(--muted); letter-spacing:2px; text-transform:uppercase; font-size:.72rem}
.links{display:flex; gap:18px}
.links a{color:var(--muted); font-weight:600; font-size:.92rem}
.about-photo{position:relative; aspect-ratio:3/2; overflow:hidden; background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow)}
.about-photo::before{content:""; display:block; padding-top:66.666%}
.about-photo > img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block}
</style>
</head>
<body>
<section id="about" style="margin-top: clamp(28px,6vw,64px);">
  <div class="grid" style="grid-template-columns:repeat(12,1fr); gap:var(--gap)">
    <div class="about-photo" style="grid-column:span 7;">
      <img src="images/about.jpg" alt="Majid in the field with camera" loading="lazy">
    </div>
    <div style="grid-column:span 5; display:flex; flex-direction:column; justify-content:center; gap:10px">
      <h3 style="font-family:'Playfair Display',serif; font-size:clamp(20px,3vw,28px); margin:0">About</h3>
      <p style="color:var(--muted); margin:0">Majid Mohammadi is a Canadian–Iranian fine art photographer whose work explores silence, solitude, and the poetry of natural forms. Through minimal compositions and meditative light, he reveals the quiet dialogue between earth, air, and memory. Each image becomes a moment of still reflection — where emptiness speaks, and the unseen finds its voice.</p>
    </div>
  </div>
</section>
  <!-- Lightbox overlay -->
<div class="lightbox" role="dialog" aria-modal="true" aria-label="Image viewer" style="display:none;">
  <button class="close" aria-label="Close">✕</button>
  <img src="" alt="Expanded view" />
</div>
<script>
(function(){
  // --- get elements
  const lb = document.querySelector('.lightbox');
  if (!lb) return;
  const lbImg = lb.querySelector('img');
  const closeBtn = lb.querySelector('.close');

  // --- overlay show/hide
  function showOverlay(src){
    // ensure overlay has correct styles even if CSS didn't load yet
    lb.style.position = 'fixed';
    lb.style.inset = '0';
    lb.style.background = 'rgba(0,0,0,0.85)';
    lb.style.display = 'flex';
    lb.style.alignItems = 'center';
    lb.style.justifyContent = 'center';
    lb.style.zIndex = '9999';
    document.body.style.overflow = 'hidden';

    lbImg.style.maxWidth = '90vw';
    lbImg.style.maxHeight = '90vh';
    lbImg.style.borderRadius = '12px';
    lbImg.style.boxShadow = '0 20px 60px rgba(0,0,0,0.6)';

    // preload for Android/iOS reliability
    lbImg.src = '';
    const pre = new Image();
    pre.onload = () => { lbImg.src = src; };
    pre.onerror = () => { lbImg.src = src; };
    pre.src = src;

    // fallback: if overlay fails (rare), open image directly
    setTimeout(() => {
      const visible = lb.style.display !== 'none' && lbImg.src;
      if (!visible) window.location.href = src;
    }, 400);
  }

  function hideOverlay(){
    lb.style.display = 'none';
    lbImg.src = '';
    document.body.style.overflow = '';
  }

  closeBtn.addEventListener('click', hideOverlay);
  lb.addEventListener('click', (e) => { if (e.target === lb) hideOverlay(); });
  window.addEventListener('keydown', (e) => { if (e.key === 'Escape') hideOverlay(); });

  // --- make every portfolio image openable (and have a native fallback)
  document.querySelectorAll('.card img').forEach(img => {
    // wrap in a link if not already
    if (!img.parentElement || !img.parentElement.matches('a.zoom')) {
      const a = document.createElement('a');
      a.href = img.currentSrc || img.src;   // native fallback if JS fails
      a.className = 'zoom';
      img.replaceWith(a);
      a.appendChild(img);
    }
  });

  // --- tap vs scroll detection (prevents accidental opens while scrolling)
  const TAP_MOVE = 10;   // px
  const TAP_TIME = 500;  // ms

  document.querySelectorAll('.card a.zoom').forEach(a => {
    let sx=0, sy=0, st=0, touchActive=false;

    a.style.touchAction = 'pan-y'; // allow vertical scroll on touch

    a.addEventListener('pointerdown', (e) => {
      sx = e.clientX; sy = e.clientY; st = Date.now();
      touchActive = (e.pointerType === 'touch');
    }, { passive: true });

    a.addEventListener('pointerup', (e) => {
      const isTouch = (e.pointerType === 'touch') || touchActive;
      const dx = Math.abs(e.clientX - sx);
      const dy = Math.abs(e.clientY - sy);
      const dt = Date.now() - st;
      const isTap = dx < TAP_MOVE && dy < TAP_MOVE && dt < TAP_TIME;

      if (isTouch) {
        if (isTap) {
          e.preventDefault();
          const img = a.querySelector('img');
          const src = (img && (img.currentSrc || img.src)) || a.href;
          showOverlay(src);
        }
        return; // prevent the follow-up synthetic click
      }
    }, { passive: false });

    // mouse / non-touch click
    a.addEventListener('click', (e) => {
      // ignore if we just had a touch sequence
      if (touchActive) return;
      e.preventDefault();
      const img = a.querySelector('img');
      const src = (img && (img.currentSrc || img.src)) || a.href;
      showOverlay(src);
    }, { passive: false });
  });
})();
</script>
</body>
</html>
