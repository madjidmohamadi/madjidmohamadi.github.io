<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>By Majid ‚Äî Fine Art Photography</title><meta name="description" content="By Majid ‚Äî Fine Art Photography portfolio"/><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet"><style>:root{--bg:#0e0e10;--fg:#e9e9ec;--muted:#b6b6bd;--card:#151518;--shadow:0 10px 30px rgba(0,0,0,.35);--radius:18px;--gap:clamp(12px,2vw,20px);--maxw:1200px}@media (prefers-color-scheme:light){:root{--bg:#fafafa;--fg:#151518;--muted:#6b6b74;--card:#fff;--shadow:0 10px 30px rgba(0,0,0,.08)}}*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif;line-height:1.6}a{color:var(--fg);text-decoration:none}a:hover{opacity:.9}.wrap{max-width:var(--maxw);margin-inline:auto;padding:clamp(16px,4vw,32px)}header{position:sticky;top:0;backdrop-filter:saturate(180%) blur(12px);background:color-mix(in oklab,var(--bg) 90%,transparent);z-index:20;border-bottom:1px solid color-mix(in oklab,var(--fg) 12%,transparent)}.nav{display:flex;align-items:center;justify-content:space-between}.brand{display:flex;align-items:baseline;gap:10px}.brand h1{font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.5px;margin:0;font-size:clamp(18px,2.4vw,26px)}.brand small{color:var(--muted);letter-spacing:2px;text-transform:uppercase;font-size:.72rem}.links{display:flex;gap:18px}.links a{color:var(--muted);font-weight:600;font-size:.92rem}.hero{display:grid;grid-template-columns:1.2fr .8fr;gap:var(--gap);align-items:center;padding-block:clamp(28px,6vw,64px)}.hero-card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;min-height:280px;position:relative}.hero-card img{width:100%;height:100%;object-fit:cover;display:block}.hero-copy{padding:clamp(16px,3vw,28px)}.hero-copy h2{font-family:"Playfair Display",serif;font-size:clamp(26px,4vw,46px);margin:0 0 6px}.hero-copy p{color:var(--muted);margin:0 0 14px}.cta{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;background:var(--fg);color:var(--bg);font-weight:700}@media (max-width:900px){.hero{grid-template-columns:1fr}}.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:var(--gap)}.card{grid-column:span 6;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;position:relative}.card img{width:100%;height:100%;display:block;object-fit:cover;aspect-ratio:4/3;cursor:zoom-in}.card.portrait img{aspect-ratio:3/4}.card.sq img{aspect-ratio:1/1}.cap{position:absolute;inset:auto 0 0 0;padding:12px 14px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.65));color:#fff;font-size:.95rem}.chip{display:inline-block;padding:.25rem .6rem;border:1px solid color-mix(in oklab,#fff 35%,transparent);border-radius:999px;font-size:.72rem;opacity:.9}.about-photo{position:relative;aspect-ratio:3/2;overflow:hidden;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow)}.about-photo::before{content:"";display:block;padding-top:66.666%}.about-photo>img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block}footer{margin-top:clamp(28px,6vw,64px);padding:24px 0 40px;color:var(--muted);border-top:1px solid color-mix(in oklab,var(--fg) 10%,transparent)}.footer-grid{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px}.social a{color:var(--muted)}.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:9999}.lightbox.open{display:flex !important}.lightbox img{max-width:90vw;max-height:90vh;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.6);display:block}.lightbox .close{position:absolute;top:20px;right:20px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.3);color:#fff;padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:700}.lightbox .actions{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);display:flex;gap:10px}.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;font-weight:700;border:1px solid color-mix(in oklab,#fff 25%,transparent);background:rgba(255,255,255,.12);color:#fff;backdrop-filter:saturate(150%) blur(6px);cursor:pointer}.btn:hover{background:rgba(255,255,255,.18)}/* Quote modal */.modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;z-index:10000;align-items:center;justify-content:center}.modal.open{display:flex}.order-card{width:min(980px,92vw);background:var(--card);color:var(--fg);border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.6);overflow:hidden}.order-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid color-mix(in oklab,var(--fg) 12%,transparent)}.order-body{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;padding:16px}.order-body img{width:100%;height:auto;border-radius:12px;display:block}.order-body label{display:block;margin-bottom:10px}.order-body select,.order-body input,.order-body textarea{width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)}.order-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}.order-close{background:transparent;border:none;color:var(--muted);font-weight:700;cursor:pointer}@media (max-width:900px){.order-body{grid-template-columns:1fr}}.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#1f9d55;color:#fff;padding:10px 14px;border-radius:999px;box-shadow:0 8px 30px rgba(0,0,0,.35);z-index:11000;display:none}.toast.show{display:block}body.no-scroll{overflow:hidden}</style></head><body>
<header><div class="wrap nav"><div class="brand"><h1>By Majid</h1><small>Fine Art Photography</small></div><nav class="links" aria-label="Primary"><a href="#work">Portfolio</a><a href="#about">About</a><a href="#awards">Awards</a><a href="#consult">Consult</a><a href="#contact">Contact</a></nav></div></header>
<main class="wrap">
<section class="hero" id="home"><figure class="hero-card" aria-label="Featured photograph"><img src="images/a-journey-to-the-unknown.png" alt="A Journey to The Unknown" loading="eager"></figure><div class="hero-copy"><h2>Quiet light. Honest places.</h2><p>Fine-art photography exploring stillness, reflection, and the silent drama of the Pacific Northwest and beyond.</p><a class="cta" href="#work">View Portfolio ‚Üí</a></div></section>
<section id="work" aria-label="Portfolio"><div class="grid">
<figure class="card"><img src="images/how-earth-sees-the-leaves.png" alt="How Earth Sees the Leaves" loading="lazy"><figcaption class="cap"><span class="chip">Space: Gallery</span> How Earth Sees the Leaves</figcaption></figure>
<figure class="card portrait"><img src="images/golden-breath.png" alt="Golden Breath" loading="lazy"><figcaption class="cap"><span class="chip">Space: Lobby</span> Golden Breath</figcaption></figure>
<figure class="card"><img src="images/moonlight-over-the-ocean.png" alt="Moonlight Over The Ocean" loading="lazy"><figcaption class="cap"><span class="chip">Space: Living room</span> Moonlight Over The Ocean</figcaption></figure>
<figure class="card portrait"><img src="images/immigrants.png" alt="Immigrants" loading="lazy"><figcaption class="cap"><span class="chip">Space: Hotel lobby</span> Immigrants</figcaption></figure>
<figure class="card portrait"><img src="images/whisper-of-form.png" alt="Whisper of Form" loading="lazy"><figcaption class="cap"><span class="chip">Space: Shop</span> Whisper of Form</figcaption></figure>
<figure class="card portrait"><img src="images/the-shape-of-wind.png" alt="The Shape of Wind" loading="lazy"><figcaption class="cap"><span class="chip">Space: Shop</span> The Shape of Wind</figcaption></figure>
<figure class="card"><img src="images/the-tired-tree.png" alt="The Tired Tree" loading="lazy"><figcaption class="cap"><span class="chip">Space: Gallery</span> The Tired Tree</figcaption></figure>
<figure class="card sq"><img src="images/whispers-of-the-ghost-lake.png" alt="Whispers of the Ghost Lake" loading="lazy"><figcaption class="cap"><span class="chip">Space: Living room</span> Whispers of the Ghost Lake</figcaption></figure>
<figure class="card sq"><img src="images/story-of-two-benches.png" alt="Story of Two benches" loading="lazy"><figcaption class="cap"><span class="chip">Space: Wellness retreat</span> Story of Two benches</figcaption></figure>
<figure class="card"><img src="images/a-journey-to-the-unknown.png" alt="A Journey to The Unknown" loading="lazy"><figcaption class="cap"><span class="chip">Space: Living room</span> A Journey to The Unknown</figcaption></figure>
</div></section>
<section id="about" style="margin-top:clamp(28px,6vw,64px)"><div class="grid" style="grid-template-columns:repeat(12,1fr);gap:var(--gap)"><div class="about-photo" style="grid-column:span 7"><img src="images/about.jpg" alt="Majid in the field with camera" loading="lazy"></div><div style="grid-column:span 5;display:flex;flex-direction:column;justify-content:center;gap:10px"><h3 style="font-family:'Playfair Display',serif;font-size:clamp(20px,3vw,28px);margin:0">About</h3><p style="color:var(--muted);margin:0">Majid Mohammadi is a Canadian‚ÄìIranian fine art photographer whose work explores silence, solitude, and the poetry of natural forms. Through minimal compositions and meditative light, he reveals the quiet dialogue between earth, air, and memory. Each image becomes a moment of still reflection ‚Äî where emptiness speaks, and the unseen finds its voice.</p></div></div></section>
<section id="awards" style="margin-top:clamp(28px,6vw,64px)"><h3 style="font-family:'Playfair Display',serif;font-size:clamp(20px,3vw,28px);margin:0 0 12px">Awards &amp; Honors</h3><ul style="list-style:none;padding:0;margin:0;display:grid;gap:10px">
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>Fine Art Photography Awards</strong> ‚Äî Majid Mohamadi 1st Prize Winner in Travel. <a href="https://fineartphotoawards.com/winners-gallery/fapa-2019-2020/amateur/travel/gold-award/" target="_blank" rel="noopener">View</a></li>
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>FIAP Honor Ribbon</strong>, 41st Trophy Torretes of Photography (Spain) 2018 ‚Äî Recognized for excellence in international photography. <a href="https://www.festimatge.org/el-festival-2/" target="_blank" rel="noopener">View</a></li>
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>LensCulture Art Photography Awards 2022</strong> ‚Äî Featured and nominated for outstanding work in art photography. <a href="https://www.lensculture.com/photo-competitions/art-photography-awards/2022" target="_blank" rel="noopener">View</a></li>
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>Kimia Photo Festival (Iran) 2019</strong> ‚Äî Won first prize for creative photography. <a href="https://www.mehrnews.com/news/4463154/%D8%A7%D8%B9%D9%84%D8%A7%D9%85-%D8%A8%D8%B1%DA%AF%D8%B2%DB%8C%D8%AF%DA%AF%D8%A7%D9%86-%D8%AC%D8%B4%D9%86%D9%88%D8%A7%D8%B1%D9%87-%D8%B9%DA%A9%D8%B3-%D9%85%D8%B9%D8%AF%D9%86-%D9%85%D8%AD%D9%85%D8%AF-%D8%A7%D8%B3%D9%84%D8%A7%D9%85%DB%8C-%D8%B1%D8%A7%D8%AF-%D9%86%D8%B4%D8%A7%D9%86-%DA%A9%DB%8C%D9%85%DB%8C%D8%A7" target="_blank" rel="noopener">View</a></li>
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>Blank Wall Gallery (Greece)</strong> ‚Äî Honor diploma in 2020 for excellence in fine art photography. <a href="https://www.blankwallgallery.com/majid-mohammadi-iran-untitled/" target="_blank" rel="noopener">View</a></li>
<li style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px"><strong>Focus Iran 2 ‚Äî Craft and Folk Art Museum of Los Angeles (USA)</strong> ‚Äî Honor diploma for artistic achievements in 2019. <a href="https://farhang.org/programs/focus-iran" target="_blank" rel="noopener">View</a></li>
</ul></section>
<section id="consult" style="margin-top:clamp(28px,6vw,64px)"><div class="grid" style="align-items:start;gap:var(--gap)"><div style="grid-column:span 7;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:clamp(16px,3vw,24px)"><h3 style="font-family:'Playfair Display',serif;font-size:clamp(20px,3vw,28px);margin:0 0 8px">Free Interior Sizing &amp; Mockup</h3><p style="color:var(--muted);margin:0 0 12px">Send a photo of your wall and a few details. I‚Äôll suggest the best photograph and frame size for your space ‚Äî and provide a quick mockup.</p><form id="consultForm" style="display:grid;gap:12px"><label><span style="display:block;font-weight:600;margin-bottom:4px">Your Name</span><input name="name" required placeholder="Full name" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></label><label><span style="display:block;font-weight:600;margin-bottom:4px">Email</span><input name="email" type="email" required placeholder="you@example.com" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></label><div class="grid" style="grid-template-columns:repeat(12,1fr);gap:var(--gap)"><label style="grid-column:span 6"><span style="display:block;font-weight:600;margin-bottom:4px">Room</span><select name="room" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"><option>Living room</option><option>Bedroom</option><option>Dining</option><option>Office/Reception</option><option>Hallway</option><option>Spa/Wellness</option><option>Other</option></select></label><label style="grid-column:span 3"><span style="display:block;font-weight:600;margin-bottom:4px">Wall width</span><input name="wall" placeholder="e.g., 320 cm / 126 in" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></label><label style="grid-column:span 3"><span style="display:block;font-weight:600;margin-bottom:4px">Ceiling height</span><input name="ceiling" placeholder="e.g., 260 cm / 102 in" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></label></div><div class="grid" style="grid-template-columns:repeat(12,1fr);gap:var(--gap)"><label style="grid-column:span 6"><span style="display:block;font-weight:600;margin-bottom:4px">Preferred orientation</span><select name="orientation" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"><option>Any</option><option>Horizontal (landscape)</option><option>Vertical (portrait)</option><option>Square</option></select></label><label style="grid-column:span 6"><span style="display:block;font-weight:600;margin-bottom:4px">Frame colour</span><select name="frame" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"><option>Let me suggest</option><option>Black</option><option>White</option><option>Natural wood</option><option>Metal</option></select></label></div><label><span style="display:block;font-weight:600;margin-bottom:4px">Link to your room photo(s)</span><input name="link" type="url" placeholder="Dropbox / Google Drive / iCloud link" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></label><label><span style="display:block;font-weight:600;margin-bottom:4px">Notes</span><textarea name="notes" rows="4" placeholder="Style, colours, budget, favourite photos from my portfolio‚Ä¶" style="width:100%;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--fg) 12%,transparent);background:transparent;color:var(--fg)"></textarea></label><button type="submit" class="cta" style="width:max-content">Send details ‚Üí</button><small style="color:var(--muted)">You can also email me directly at <a href="mailto:madjid.mohamadi@gmail.com">madjid.mohamadi@gmail.com</a> with your photos attached.</small><div style="margin-top:18px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;color:var(--muted)"><strong style="color:var(--fg)">Prefer a personal visit?</strong><br>As an alternative, you can book an on-site consultation. I‚Äôll visit your location, take measurements and reference photos, and prepare detailed illustrations with suggested photographs and framing options.<br><br>There‚Äôs <strong>no purchase obligation</strong>, but a small service fee applies to cover travel and time.<br><br>Please leave a short message through the form, and I‚Äôll get back to you as soon as possible to schedule your session.<br><br><a href="mailto:madjid.mohamadi@gmail.com?subject=On-site Consultation Request" class="cta" style="display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;background:var(--fg);color:var(--bg);font-weight:700;text-decoration:none">Book a Visit Session ‚Üí</a><br><small style="display:block;margin-top:8px;color:var(--muted)">Typical response within 24 hours.</small></div></form></div><aside style="grid-column:span 5;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:clamp(16px,3vw,24px)"><h4 style="margin:0 0 8px;font-family:'Playfair Display',serif;font-size:clamp(18px,2.5vw,22px)">How to photograph your space</h4><ul style="margin:0;padding-left:18px;color:var(--muted);display:grid;gap:8px"><li>Stand square-on to the wall; include floor and ceiling in frame.</li><li>Use natural light if possible; avoid strong shadows.</li><li>Place a common object (A4 paper, 30 cm ruler, or 12‚Äù LP) on the wall for scale.</li><li>Tell me approximate wall width and ceiling height for accurate sizing.</li></ul></aside></div></section>
<section id="contact" style="margin-top:clamp(28px,6vw,64px)"><div class="grid" style="align-items:center"><div style="grid-column:span 8;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:clamp(16px,3vw,24px)"><h3 style="font-family:'Playfair Display',serif;font-size:clamp(20px,3vw,28px);margin-top:0">Contact</h3><p style="color:var(--muted);margin:0 0 12px">For print inquiries, commissions, or exhibitions:</p><p style="margin:0 0 6px"><strong>Email:</strong> <a href="mailto:madjid.mohamadi@gmail.com">madjid.mohamadi@gmail.com</a></p><p style="margin:0 0 6px"><strong>Instagram:</strong> <a href="https://www.instagram.com/madjidmohamadi" target="_blank" rel="noopener">@madjidmohamadi</a></p></div><div style="grid-column:span 4;text-align:center;color:var(--muted)"><p style="margin:6px 0 0">¬© <span id="year"></span> By Majid. All rights reserved.</p></div></div></section>
</main>
<footer><div class="wrap footer-grid"><div class="social" aria-label="Social links"><a href="https://www.instagram.com/madjidmohamadi" aria-label="Instagram" title="Instagram">Instagram</a><span aria-hidden="true"> ¬∑ </span><a href="#" aria-label="Prints" title="Prints">Prints</a></div><div>Built on GitHub Pages</div></div></footer>
<!-- Lightbox overlay -->
<div class="lightbox" role="dialog" aria-modal="true" aria-label="Image viewer"><button class="close" aria-label="Close">‚úï</button><img src="" alt="Expanded view"/><div class="actions"><button class="btn" id="orderOpenBtn" aria-label="Order this print">üõí Order this print</button></div></div>

<!-- Quote Modal (order request) -->
<div class="modal" id="quoteModal" role="dialog" aria-modal="true" aria-label="Request a quote">
  <div class="order-card">
    <div class="order-head"><strong>Request a Quote</strong><button class="order-close" id="quoteCloseBtn">Close ‚úï</button></div>
    <div class="order-body">
      <div>
        <img id="quotePreview" src="" alt="Selected photograph">
        <small style="color:var(--muted)">Photo: <span id="quoteTitle">(title)</span></small>
      </div>
      <div>
        <label><span style="display:block;font-weight:600;margin-bottom:4px">Your email</span>
          <input id="quoteEmail" type="email" required placeholder="you@example.com" />
        </label>
        <label><span style="display:block;font-weight:600;margin-bottom:4px">Select sizes</span>
          <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px">
            <label><input type="checkbox" value="12x18" class="q-size"> 12√ó18 in</label>
            <label><input type="checkbox" value="16x24" class="q-size"> 16√ó24 in</label>
            <label><input type="checkbox" value="20x30" class="q-size"> 20√ó30 in</label>
            <label><input type="checkbox" value="24x36" class="q-size"> 24√ó36 in</label>
            <label><input type="checkbox" value="24x24" class="q-size"> 24√ó24 in (square)</label>
            <label><input type="checkbox" value="30x40" class="q-size"> 30√ó40 in</label>
          </div>
        </label>
        <label><span style="display:block;font-weight:600;margin-bottom:4px">Notes (optional)</span>
          <textarea id="quoteNotes" rows="3" placeholder="Frame preference, deadline, delivery city‚Ä¶"></textarea>
        </label>
        <div class="order-actions">
          <button class="btn" id="quoteSendBtn">üì© Request quote now</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// ---------- Utilities ----------
function encodeMailBody(str){
  // Normalize line breaks and safely encode
  const normalized = String(str).replace(/\r?\n/g, '\n');
  return encodeURIComponent(normalized);
}
function toast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'), 2200);
}

// ---------- Year ----------
const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();

// ---------- Lightbox (mobile robust) ----------
(function(){
  const lb=document.querySelector('.lightbox'); if(!lb) return;
  const lbImg=lb.querySelector('img');
  const closeBtn=lb.querySelector('.close');
  const orderBtn=document.getElementById('orderOpenBtn');

  let currentTitle='Untitled', currentSrc='';

  function showOverlay(src){
    document.body.classList.add('no-scroll');
    lb.classList.add('open');
    lbImg.src='';
    const pre=new Image(); pre.onload=()=>{lbImg.src=src}; pre.onerror=()=>{lbImg.src=src}; pre.src=src;
  }
  function hideOverlay(){ lb.classList.remove('open'); lbImg.src=''; document.body.classList.remove('no-scroll'); }

  closeBtn.addEventListener('click',hideOverlay);
  lb.addEventListener('click',e=>{ if(e.target===lb) hideOverlay(); });
  window.addEventListener('keydown',e=>{ if(e.key==='Escape') hideOverlay(); });

  // Prepare titles and native fallback
  document.querySelectorAll('.card').forEach(fig=>{
    const img=fig.querySelector('img'); if(!img) return;
    const title=(fig.querySelector('.cap')?.textContent||img.alt||'').trim();
    img.dataset.title=title.replace(/\s*Space:.*/,'').trim();
    if(!img.parentElement || !img.parentElement.matches('a.zoom')){
      const a=document.createElement('a'); a.href=img.currentSrc||img.src; a.className='zoom'; img.replaceWith(a); a.appendChild(img);
    }
  });

  // Tap vs scroll detection
  const TAP_MOVE=10, TAP_TIME=500;
  document.querySelectorAll('.card a.zoom').forEach(a=>{
    let sx=0,sy=0,st=0,touch=false;
    a.style.touchAction='pan-y';
    a.addEventListener('pointerdown',e=>{ sx=e.clientX; sy=e.clientY; st=Date.now(); touch=(e.pointerType==='touch'); }, {passive:true});
    a.addEventListener('pointerup',e=>{
      const isTouch=(e.pointerType==='touch')||touch;
      const dx=Math.abs(e.clientX-sx), dy=Math.abs(e.clientY-sy), dt=Date.now()-st;
      const isTap=dx<TAP_MOVE && dy<TAP_MOVE && dt<TAP_TIME;
      if(isTouch){ if(isTap){ e.preventDefault(); const img=a.querySelector('img'); currentSrc=(img&&(img.currentSrc||img.src))||a.href; currentTitle=img?.dataset.title||'Untitled'; showOverlay(currentSrc);} return; }
    }, {passive:false});
    a.addEventListener('click',e=>{ if(touch) return; e.preventDefault(); const img=a.querySelector('img'); currentSrc=(img&&(img.currentSrc||img.src))||a.href; currentTitle=img?.dataset.title||'Untitled'; showOverlay(currentSrc); }, {passive:false});
  });

  // ---------- Quote Modal ----------
  const quoteModal=document.getElementById('quoteModal');
  const quotePreview=document.getElementById('quotePreview');
  const quoteTitle=document.getElementById('quoteTitle');
  const quoteEmail=document.getElementById('quoteEmail');
  const quoteNotes=document.getElementById('quoteNotes');
  const quoteClose=document.getElementById('quoteCloseBtn');
  const quoteSend=document.getElementById('quoteSendBtn');

  function openQuote(){
    quotePreview.src=currentSrc; quoteTitle.textContent=currentTitle; quoteModal.classList.add('open');
  }
  function closeQuote(){ quoteModal.classList.remove('open'); }

  orderBtn.addEventListener('click',openQuote);
  quoteClose.addEventListener('click',closeQuote);
  quoteModal.addEventListener('click',e=>{ if(e.target===quoteModal) closeQuote(); });

  quoteSend.addEventListener('click',()=>{
    const email=(quoteEmail.value||'').trim();
    const sizes=[...document.querySelectorAll('.q-size:checked')].map(x=>x.value);
    if(!email){ toast('Please enter your email.'); return; }
    if(sizes.length===0){ toast('Select at least one size.'); return; }

    const lines=[
      `Quote request from: ${email}`,
      `Photo: ${currentTitle}`,
      `Preview: ${currentSrc}`,
      `Sizes: ${sizes.join(', ')}`,
      '',
      `Notes: ${quoteNotes.value||''}`
    ];
    const body=encodeMailBody(lines.join('\n'));
    const subject=encodeURIComponent(`Quote request ‚Äî ${currentTitle}`);

    // mailto with CC to customer
    window.location.href=`mailto:madjid.mohamadi@gmail.com?cc=${encodeURIComponent(email)}&subject=${subject}&body=${body}`;
    closeQuote();
    toast('Your quote request was sent.');
  });
})();

// ---------- Consult form (mailto) ----------
const consult=document.getElementById('consultForm');
if(consult){
  consult.addEventListener('submit',e=>{
    e.preventDefault();
    const d=new FormData(consult);
    const lines=[
      `Name: ${d.get('name')||''}`,
      `Email: ${d.get('email')||''}`,
      `Room: ${d.get('room')||''}`,
      `Wall width: ${d.get('wall')||''}`,
      `Ceiling height: ${d.get('ceiling')||''}`,
      `Orientation: ${d.get('orientation')||''}`,
      `Frame: ${d.get('frame')||''}`,
      `Photo link: ${d.get('link')||''}`,
      '',
      (d.get('notes')||'')
    ];
    const body=encodeMailBody(lines.join('\n'));
    const subject=encodeURIComponent('Interior Consultation ‚Äî bymajid.com');
    const mailto=`mailto:madjid.mohamadi@gmail.com?subject=${subject}&body=${body}`;
    window.location.href=mailto;
  });
}

// ---------- Tiny tests (console) ----------
(function tests(){
  console.log('%cRunning mail encoding tests‚Ä¶','color:#7bd389');
  // Test 1: simple
  console.assert(encodeMailBody('hello')==='hello', 'T1 fail');
  // Test 2: newline normalization
  console.assert(encodeMailBody('a\nb')==='a%0Ab', 'T2 fail');
  console.assert(encodeMailBody('a\r\nb')==='a%0Ab', 'T2b fail');
  // Test 3: unicode + symbols
  const s='Quote ‚Äî sizes: 16√ó24 & 24√ó36';
  console.assert(decodeURIComponent(encodeMailBody(s))===s, 'T3 fail');
})();
</script>
</body></html>
